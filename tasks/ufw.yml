---
- name: Configure UFW firewall.
  hosts: all

  tasks:
    - name: Enable firewall.
      community.general.ufw:
        state: enabled
    - name: Allow Vagrant SSH in firewall.
      community.general.ufw:
        rule: allow
        port: ssh
    - name: Allow new SSH in firewall.
      community.general.ufw:
        rule: allow
        port: '{{ vault_security_ssh_port }}'
        src: 192.168.0.0/16
